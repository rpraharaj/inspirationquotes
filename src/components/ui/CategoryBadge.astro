---
/**
 * CategoryBadge Component
 * 
 * Displays a category badge with icon and name.
 * Uses SVG icons that adapt to the current color scheme.
 */
import Icon from './Icon.astro';
import { getCategoryBySlug, type CategorySlug } from '../../config/categories';

interface Props {
    category: CategorySlug;
    size?: 'sm' | 'md' | 'lg';
    showIcon?: boolean;
}

const { category, size = 'md', showIcon = true } = Astro.props;
const categoryData = getCategoryBySlug(category);

const sizeClasses = {
    sm: 'text-xs px-2 py-0.5',
    md: 'text-xs px-2.5 py-1',
    lg: 'text-sm px-3 py-1.5',
};

const iconSizes = {
    sm: 12,
    md: 14,
    lg: 16,
};
---

{categoryData && (
    <a 
        href={`/categories/${category}`}
        class:list={[
            'inline-flex items-center gap-1.5 font-medium uppercase tracking-wider',
            'bg-background-secondary border border-border rounded-md',
            'hover:bg-background-tertiary hover:border-border-strong transition-colors',
            sizeClasses[size]
        ]}
    >
        {showIcon && <Icon name={categoryData.icon} size={iconSizes[size]} strokeWidth={2.5} />}
        <span>{categoryData.name}</span>
    </a>
)}
