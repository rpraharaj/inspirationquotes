---
import BaseLayout from '../layouts/BaseLayout.astro';
import Icon from '../components/ui/Icon.astro';
import { siteConfig } from '../config/site';
import { 
  generateWebPageSchema, 
  generateBreadcrumbSchema,
  type Schema 
} from '../lib/schema';

// Page metadata
const pageTitle = `Contact Us | ${siteConfig.name}`;
const pageDescription = "Get in touch with AI Agents Kit. Have questions, feedback, or collaboration ideas? We'd love to hear from you.";

// Generate JSON-LD structured data for Contact page
const schemas: Schema[] = [
  generateWebPageSchema({
    name: 'Contact Us',
    description: pageDescription,
    url: `${siteConfig.url}/contact`,
  }),
  generateBreadcrumbSchema(
    [{ name: 'Home', url: '/' }, { name: 'Contact' }],
    '/contact'
  ),
];

// Contact methods
const contactMethods = [
  {
    icon: 'mail',
    title: 'Email',
    description: 'For general inquiries, feedback, or collaboration ideas.',
    value: siteConfig.social.email,
    href: `mailto:${siteConfig.social.email}`,
    cta: 'Send Email',
  },
  {
    icon: 'twitter',
    title: 'X / Twitter',
    description: 'Follow for the latest AI updates and connect with us.',
    value: '@quantumaidev',
    href: siteConfig.social.twitter,
    cta: 'Follow Us',
    external: true,
  },
  {
    icon: 'github',
    title: 'GitHub',
    description: 'Check out our open-source projects and contribute.',
    value: 'aiagentskit',
    href: siteConfig.social.github,
    cta: 'View GitHub',
    external: true,
  },
];

// FAQ items
const faqItems = [
  {
    question: 'How quickly do you respond to emails?',
    answer: 'We aim to respond to all inquiries within 24-48 hours during business days. For urgent matters, please mention that in your subject line.',
  },
  {
    question: 'Can I submit a guest post?',
    answer: 'We welcome high-quality guest contributions on AI agents, LLMs, and developer tools. Send us your pitch via email with a brief outline of your proposed topic.',
  },
  {
    question: 'Do you offer consulting services?',
    answer: 'Yes, we provide consulting for AI agent development, LLM integration, and AI strategy. Reach out with your project details to discuss how we can help.',
  },
  {
    question: 'How can I report an error in an article?',
    answer: "We appreciate corrections! Please email us with the article URL and the specific issue you've found. We'll review and update the content promptly.",
  },
];
---

<BaseLayout 
  title={pageTitle} 
  description={pageDescription}
  schemas={schemas}
>
  <div class="py-16 sm:py-24">
    <div class="mx-auto max-w-wide px-4 sm:px-6">
      <!-- Header -->
      <header class="mb-16 animate-fade-in text-center">
        <span class="inline-flex items-center gap-2 text-sm font-medium tracking-widest uppercase text-foreground-tertiary mb-4">
          <Icon name="mail" size={18} />
          Contact
        </span>
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold tracking-tight mb-6">
          Get in Touch
        </h1>
        <p class="text-lg sm:text-xl text-foreground-secondary max-w-2xl mx-auto">
          Have a question, feedback, or just want to say hello? 
          We'd love to hear from you.
        </p>
      </header>
      
      <!-- Contact Methods Grid -->
      <section class="mb-16 animate-slide-up">
        <div class="grid md:grid-cols-3 gap-6">
          {contactMethods.map((method) => (
            <div class="contact-card group p-6 border border-border rounded-xl bg-background hover:border-border-strong hover:bg-background-secondary transition-all">
              <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-background-secondary border border-border text-foreground-secondary group-hover:text-foreground transition-colors mb-5">
                <Icon name={method.icon} size={24} strokeWidth={1.5} />
              </div>
              <h2 class="text-lg font-bold mb-2">{method.title}</h2>
              <p class="text-sm text-foreground-secondary mb-4">
                {method.description}
              </p>
              <a 
                href={method.href}
                target={method.external ? '_blank' : undefined}
                rel={method.external ? 'noopener noreferrer' : undefined}
                class="inline-flex items-center gap-2 text-sm font-medium text-foreground hover:text-foreground-secondary transition-colors"
              >
                {method.cta}
                <Icon name={method.external ? 'external-link' : 'arrow-right'} size={16} />
              </a>
              <p class="mt-3 text-sm font-mono text-foreground-tertiary">
                {method.value}
              </p>
            </div>
          ))}
        </div>
      </section>

      <!-- Primary Email CTA -->
      <section class="mb-16 animate-slide-up stagger-1">
        <div class="relative p-8 sm:p-12 rounded-2xl bg-background-secondary border border-border overflow-hidden">
          <!-- Decorative Elements -->
          <div class="absolute inset-0 overflow-hidden pointer-events-none">
            <div class="absolute -top-24 -right-24 w-48 h-48 rounded-full bg-background-tertiary opacity-50"></div>
            <div class="absolute -bottom-16 -left-16 w-32 h-32 rounded-full bg-background-tertiary opacity-30"></div>
          </div>
          
          <div class="relative z-10 text-center max-w-2xl mx-auto">
            <div class="w-16 h-16 mx-auto flex items-center justify-center rounded-2xl bg-background border border-border mb-6">
              <Icon name="mail" size={28} strokeWidth={1.5} />
            </div>
            <h2 class="text-2xl sm:text-3xl font-bold tracking-tight mb-4">
              Email is the Best Way to Reach Us
            </h2>
            <p class="text-foreground-secondary mb-6">
              Whether you have a question about our content, want to collaborate, 
              or have feedback to shareâ€”email is the fastest way to get a response.
            </p>
            <a 
              href={`mailto:${siteConfig.social.email}`}
              class="inline-flex items-center gap-2 px-6 py-3 bg-foreground text-background font-medium rounded-xl hover:bg-foreground-secondary transition-colors"
            >
              <Icon name="mail" size={18} />
              {siteConfig.social.email}
            </a>
          </div>
        </div>
      </section>

      <!-- What to Include Section -->
      <section class="mb-16 animate-slide-up stagger-2">
        <h2 class="text-2xl font-bold tracking-tight mb-6 text-center">
          What to Include in Your Message
        </h2>
        <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
          <div class="p-5 border border-border rounded-xl bg-background">
            <div class="w-10 h-10 flex items-center justify-center rounded-lg bg-background-secondary mb-4 border border-border">
              <Icon name="file-code" size={20} />
            </div>
            <h3 class="font-bold mb-2">Subject Line</h3>
            <p class="text-sm text-foreground-secondary">
              A clear, concise subject helps us route your message quickly.
            </p>
          </div>
          
          <div class="p-5 border border-border rounded-xl bg-background">
            <div class="w-10 h-10 flex items-center justify-center rounded-lg bg-background-secondary mb-4 border border-border">
              <Icon name="book-open" size={20} />
            </div>
            <h3 class="font-bold mb-2">Context</h3>
            <p class="text-sm text-foreground-secondary">
              Brief background on why you're reaching out.
            </p>
          </div>
          
          <div class="p-5 border border-border rounded-xl bg-background">
            <div class="w-10 h-10 flex items-center justify-center rounded-lg bg-background-secondary mb-4 border border-border">
              <Icon name="message-square" size={20} />
            </div>
            <h3 class="font-bold mb-2">Your Question</h3>
            <p class="text-sm text-foreground-secondary">
              Be specific about what you need help with.
            </p>
          </div>
          
          <div class="p-5 border border-border rounded-xl bg-background">
            <div class="w-10 h-10 flex items-center justify-center rounded-lg bg-background-secondary mb-4 border border-border">
              <Icon name="clock" size={20} />
            </div>
            <h3 class="font-bold mb-2">Timeline</h3>
            <p class="text-sm text-foreground-secondary">
              If urgent, let us know your deadline.
            </p>
          </div>
        </div>
      </section>

      <!-- FAQ Section -->
      <section class="animate-slide-up stagger-3">
        <h2 class="text-2xl font-bold tracking-tight mb-6 text-center">
          Frequently Asked Questions
        </h2>
        <div class="max-w-3xl mx-auto space-y-4">
          {faqItems.map((item) => (
            <details class="group p-5 border border-border rounded-xl bg-background hover:bg-background-secondary transition-colors">
              <summary class="flex items-center justify-between cursor-pointer list-none">
                <span class="font-medium pr-4">{item.question}</span>
                <span class="flex-shrink-0 text-foreground-tertiary group-open:rotate-180 transition-transform">
                  <Icon name="chevron-right" size={20} class="rotate-90" />
                </span>
              </summary>
              <p class="mt-4 text-foreground-secondary text-sm leading-relaxed">
                {item.answer}
              </p>
            </details>
          ))}
        </div>
      </section>

      <!-- Connect Section -->
      <section class="mt-16 text-center animate-slide-up stagger-4">
        <p class="text-foreground-secondary mb-4">
          You can also connect with us on social media
        </p>
        <div class="flex items-center justify-center gap-4">
          <a 
            href={siteConfig.social.twitter}
            target="_blank"
            rel="noopener noreferrer"
            class="p-3 text-foreground-tertiary hover:text-foreground hover:bg-background-secondary rounded-xl transition-colors border border-transparent hover:border-border"
            aria-label="Follow on X / Twitter"
          >
            <Icon name="twitter" size={24} />
          </a>
          <a 
            href={siteConfig.social.github}
            target="_blank"
            rel="noopener noreferrer"
            class="p-3 text-foreground-tertiary hover:text-foreground hover:bg-background-secondary rounded-xl transition-colors border border-transparent hover:border-border"
            aria-label="Follow on GitHub"
          >
            <Icon name="github" size={24} />
          </a>
          <a 
            href={`mailto:${siteConfig.social.email}`}
            class="p-3 text-foreground-tertiary hover:text-foreground hover:bg-background-secondary rounded-xl transition-colors border border-transparent hover:border-border"
            aria-label="Send an email"
          >
            <Icon name="mail" size={24} />
          </a>
        </div>
      </section>
    </div>
  </div>
</BaseLayout>

<style>
  /* Smooth animation for details/summary */
  details > summary::-webkit-details-marker {
    display: none;
  }
  
  details[open] summary {
    margin-bottom: 0;
  }
  
  /* Stagger animation delays */
  .stagger-1 { animation-delay: 0.1s; }
  .stagger-2 { animation-delay: 0.2s; }
  .stagger-3 { animation-delay: 0.3s; }
  .stagger-4 { animation-delay: 0.4s; }
</style>
